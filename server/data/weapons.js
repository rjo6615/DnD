/**
 * Player's Handbook weapons.
 * Generated for proficiency checks.
 */
/** @typedef {import('../../types/weapon').Weapon} Weapon */
/** @type {Record<string, Weapon>} */
const weapons = {
  club: {
    name: "Club",
    category: "simple melee",
    damage: "1d4 bludgeoning",
    properties: ["light"],
    weight: 2,
    cost: "1 sp",
    proficient: false,
  },
  dagger: {
    name: "Dagger",
    category: "simple melee",
    damage: "1d4 piercing",
    properties: ["finesse", "light", "thrown (20/60)"],
    weight: 1,
    cost: "2 gp",
    proficient: false,
  },
  greatclub: {
    name: "Greatclub",
    category: "simple melee",
    damage: "1d8 bludgeoning",
    properties: ["two-handed"],
    weight: 10,
    cost: "2 sp",
    proficient: false,
  },
  handaxe: {
    name: "Handaxe",
    category: "simple melee",
    damage: "1d6 slashing",
    properties: ["light", "thrown (20/60)"],
    weight: 2,
    cost: "5 gp",
    proficient: false,
  },
  javelin: {
    name: "Javelin",
    category: "simple melee",
    damage: "1d6 piercing",
    properties: ["thrown (30/120)"],
    weight: 2,
    cost: "5 sp",
    proficient: false,
  },
  "light-hammer": {
    name: "Light Hammer",
    category: "simple melee",
    damage: "1d4 bludgeoning",
    properties: ["light", "thrown (20/60)"],
    weight: 2,
    cost: "2 gp",
    proficient: false,
  },
  mace: {
    name: "Mace",
    category: "simple melee",
    damage: "1d6 bludgeoning",
    properties: [],
    weight: 4,
    cost: "5 gp",
    proficient: false,
  },
  quarterstaff: {
    name: "Quarterstaff",
    category: "simple melee",
    damage: "1d6 bludgeoning",
    properties: ["versatile (1d8)"],
    weight: 4,
    cost: "2 sp",
    proficient: false,
  },
  sickle: {
    name: "Sickle",
    category: "simple melee",
    damage: "1d4 slashing",
    properties: ["light"],
    weight: 2,
    cost: "1 gp",
    proficient: false,
  },
  spear: {
    name: "Spear",
    category: "simple melee",
    damage: "1d6 piercing",
    properties: ["thrown (20/60)", "versatile (1d8)"],
    weight: 3,
    cost: "1 gp",
    proficient: false,
  },
  "light-crossbow": {
    name: "Light Crossbow",
    category: "simple ranged",
    damage: "1d8 piercing",
    properties: ["ammunition (80/320)", "loading", "two-handed"],
    weight: 5,
    cost: "25 gp",
    proficient: false,
  },
  dart: {
    name: "Dart",
    category: "simple ranged",
    damage: "1d4 piercing",
    properties: ["finesse", "thrown (20/60)"],
    weight: 0.25,
    cost: "5 cp",
    proficient: false,
  },
  shortbow: {
    name: "Shortbow",
    category: "simple ranged",
    damage: "1d6 piercing",
    properties: ["ammunition (80/320)", "two-handed"],
    weight: 2,
    cost: "25 gp",
    proficient: false,
  },
  sling: {
    name: "Sling",
    category: "simple ranged",
    damage: "1d4 bludgeoning",
    properties: ["ammunition (30/120)"],
    weight: 0,
    cost: "1 sp",
    proficient: false,
  },
  battleaxe: {
    name: "Battleaxe",
    category: "martial melee",
    damage: "1d8 slashing",
    properties: ["versatile (1d10)"],
    weight: 4,
    cost: "10 gp",
    proficient: false,
  },
  flail: {
    name: "Flail",
    category: "martial melee",
    damage: "1d8 bludgeoning",
    properties: [],
    weight: 2,
    cost: "10 gp",
    proficient: false,
  },
  glaive: {
    name: "Glaive",
    category: "martial melee",
    damage: "1d10 slashing",
    properties: ["heavy", "reach", "two-handed"],
    weight: 6,
    cost: "20 gp",
    proficient: false,
  },
  greataxe: {
    name: "Greataxe",
    category: "martial melee",
    damage: "1d12 slashing",
    properties: ["heavy", "two-handed"],
    weight: 7,
    cost: "30 gp",
    proficient: false,
  },
  greatsword: {
    name: "Greatsword",
    category: "martial melee",
    damage: "2d6 slashing",
    properties: ["heavy", "two-handed"],
    weight: 6,
    cost: "50 gp",
    proficient: false,
  },
  halberd: {
    name: "Halberd",
    category: "martial melee",
    damage: "1d10 slashing",
    properties: ["heavy", "reach", "two-handed"],
    weight: 6,
    cost: "20 gp",
    proficient: false,
  },
  lance: {
    name: "Lance",
    category: "martial melee",
    damage: "1d12 piercing",
    properties: ["reach", "special"],
    weight: 6,
    cost: "10 gp",
    proficient: false,
  },
  longsword: {
    name: "Longsword",
    category: "martial melee",
    damage: "1d8 slashing",
    properties: ["versatile (1d10)"],
    weight: 3,
    cost: "15 gp",
    proficient: false,
  },
  maul: {
    name: "Maul",
    category: "martial melee",
    damage: "2d6 bludgeoning",
    properties: ["heavy", "two-handed"],
    weight: 10,
    cost: "10 gp",
    proficient: false,
  },
  morningstar: {
    name: "Morningstar",
    category: "martial melee",
    damage: "1d8 piercing",
    properties: [],
    weight: 4,
    cost: "15 gp",
    proficient: false,
  },
  pike: {
    name: "Pike",
    category: "martial melee",
    damage: "1d10 piercing",
    properties: ["heavy", "reach", "two-handed"],
    weight: 18,
    cost: "5 gp",
    proficient: false,
  },
  rapier: {
    name: "Rapier",
    category: "martial melee",
    damage: "1d8 piercing",
    properties: ["finesse"],
    weight: 2,
    cost: "25 gp",
    proficient: false,
  },
  scimitar: {
    name: "Scimitar",
    category: "martial melee",
    damage: "1d6 slashing",
    properties: ["finesse", "light"],
    weight: 3,
    cost: "25 gp",
    proficient: false,
  },
  shortsword: {
    name: "Shortsword",
    category: "martial melee",
    damage: "1d6 piercing",
    properties: ["finesse", "light"],
    weight: 2,
    cost: "10 gp",
    proficient: false,
  },
  trident: {
    name: "Trident",
    category: "martial melee",
    damage: "1d6 piercing",
    properties: ["thrown (20/60)", "versatile (1d8)"],
    weight: 4,
    cost: "5 gp",
    proficient: false,
  },
  "war-pick": {
    name: "War Pick",
    category: "martial melee",
    damage: "1d8 piercing",
    properties: [],
    weight: 2,
    cost: "5 gp",
    proficient: false,
  },
  warhammer: {
    name: "Warhammer",
    category: "martial melee",
    damage: "1d8 bludgeoning",
    properties: ["versatile (1d10)"],
    weight: 2,
    cost: "15 gp",
    proficient: false,
  },
  whip: {
    name: "Whip",
    category: "martial melee",
    damage: "1d4 slashing",
    properties: ["finesse", "reach"],
    weight: 3,
    cost: "2 gp",
    proficient: false,
  },
  blowgun: {
    name: "Blowgun",
    category: "martial ranged",
    damage: "1 piercing",
    properties: ["ammunition (25/100)", "loading"],
    weight: 1,
    cost: "10 gp",
    proficient: false,
  },
  "hand-crossbow": {
    name: "Hand Crossbow",
    category: "martial ranged",
    damage: "1d6 piercing",
    properties: ["ammunition (30/120)", "light", "loading"],
    weight: 3,
    cost: "75 gp",
    proficient: false,
  },
  "heavy-crossbow": {
    name: "Heavy Crossbow",
    category: "martial ranged",
    damage: "1d10 piercing",
    properties: ["ammunition (100/400)", "heavy", "loading", "two-handed"],
    weight: 18,
    cost: "50 gp",
    proficient: false,
  },
  longbow: {
    name: "Longbow",
    category: "martial ranged",
    damage: "1d8 piercing",
    properties: ["ammunition (150/600)", "heavy", "two-handed"],
    weight: 2,
    cost: "50 gp",
    proficient: false,
  },
  net: {
    name: "Net",
    category: "martial ranged",
    damage: "0",
    properties: ["thrown (5/15)", "special"],
    weight: 3,
    cost: "1 gp",
    proficient: false,
  },
};

// Default the type of each weapon to its key for canonical mapping
for (const [key, weapon] of Object.entries(weapons)) {
  weapon.type = weapon.type || key;
}
// Derive canonical option lists for client consumption
const types = Object.keys(weapons);
const categories = [
  ...new Set(Object.values(weapons).map((w) => w.category)),
];
const properties = [
  ...new Set(Object.values(weapons).flatMap((w) => w.properties)),
];

module.exports = { weapons, types, categories, properties };
